# 编写可测试的javas

# 1. 可测试的JavaScript

.....

# 2. 复杂度

复杂度代表糟糕,简单代表美好

衡量复杂度: JSLint,圈复杂度,代码行数,扇入和扇出

我们会花费50%的时间在调试和测试我们的代码

认识问题是解决问题的第一步,了解项目的复杂度问题所在,然后一个个解决

代码尽量减少

函数最好保持读写分离

圈复杂度是表示代码中独立现行路径的数量

```javascript
function sum(a, b) {
  if (typeof(a) !== typeof(b)) {
    throw new Error('Cannot sum different types!');
  } else {
    return a + b ;
  }
}
```
这里的话圈复杂度为2

有人说: 任何方法的圈复杂度都不应该大于10

可以使用jscheckstyle && Jenkins把圈JS文件的圈复杂度计算出来

如果发现代码被编写了两遍,就应该抽取出来了

## 2.5 扇出

过程A的扇出是表示过程A的内部流程数量与过程A所更新的数据结构数量之和.

下次操作当做一个内部流程

1. 如果A调用B
2. 如果B调用A,并且A返回一个B随后可以利用的值
3. 如果C调用A和B,且A的返回值传递给B




